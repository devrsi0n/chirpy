# Migration `20201006093641-add-role-to-memeber`

This migration has been generated by Devrsi0n at 10/6/2020, 5:36:41 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."Role" AS ENUM ('USER', 'ADMIN')

ALTER TABLE "public"."Member" DROP COLUMN "isAdmin",
ADD COLUMN "role" "Role"  NOT NULL DEFAULT E'USER'
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200913080821-make-github-and-google-user-id-unique..20201006093641-add-role-to-memeber
--- datamodel.dml
+++ datamodel.dml
@@ -2,17 +2,18 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
-  provider = "prisma-client-js"
+  provider        = "prisma-client-js"
+  previewFeatures = ["atomicNumberOperations", "connectOrCreate", "transactionApi"]
 }
 model User {
-  id           String   @default(cuid()) @id
+  id           String   @id @default(cuid())
   createdAt    DateTime @default(now())
   updatedAt    DateTime @updatedAt
   name         String
   email        String   @unique
@@ -22,21 +23,26 @@
   members      Member[]
 }
 model Member {
-  id        String   @default(cuid()) @id
+  id        String   @id @default(cuid())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
   user      User     @relation(fields: [userId], references: [id])
   userId    String
   team      Team?    @relation(fields: [teamId], references: [id])
   teamId    String?
-  isAdmin   Boolean?
+  role      Role     @default(USER)
 }
 model Team {
-  id        String   @default(cuid()) @id
+  id        String   @id @default(cuid())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
   name      String
   members   Member[]
 }
+
+enum Role {
+  USER
+  ADMIN
+}
```
