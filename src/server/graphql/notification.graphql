mutation insertOneNotificationSubscription($userId: uuid!, $subscription: jsonb!) {
  insertOneNotificationSubscription(object: { userId: $userId, subscription: $subscription }) {
    id
  }
}

query notificationSubscriptionsByUserId($userId: uuid!) {
  notificationSubscriptions(where: { userId: { _eq: $userId } }) {
    id
    subscription
  }
}

mutation deleteNotificationSubscriptionByPk($id: uuid!) {
  deleteNotificationSubscriptionByPk(id: $id) {
    id
  }
}

mutation insertOneNotificationMessage(
  $recipientId: uuid!
  $type: NotificationType_enum!
  $triggeredById: uuid
  $url: String
) {
  insertOneNotificationMessage(
    object: { recipientId: $recipientId, triggeredById: $triggeredById, type: $type, url: $url }
  ) {
    id
  }
}
